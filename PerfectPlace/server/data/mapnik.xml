<Map srs="+init=epsg:3857">

    <Style name="shapes">
        <Rule>
            <Filter>[mapnik::geometry_type]=polygon</Filter>
            <PolygonSymbolizer fill="[fill]" fill-opacity="[fill-opacity]" />
        </Rule>
        <Rule>
            <Filter>[mapnik::geometry_type]=linestring</Filter>
            <LineSymbolizer stroke="[stroke]" stroke-width="[stroke-width]" stroke-opacity="[stroke-opacity]" />
        </Rule>
        <Rule>
            <Filter>[mapnik::geometry_type]=point</Filter>
            <LineSymbolizer stroke="[stroke]" stroke-width="[stroke-width]" stroke-opacity="[stroke-opacity]" />
        </Rule>
    </Style>

    <Style name="ready_shapes">
        <Rule>
            <Filter>[mapnik::geometry_type]=polygon</Filter>
            <PolygonSymbolizer fill="blue" fill-opacity="0.5" />
        </Rule>
        <Rule>
            <Filter>[mapnik::geometry_type]=linestring</Filter>
            <LineSymbolizer stroke="black" stroke-width="2" stroke-opacity="0.7" />
        </Rule>
        <Rule>
            <Filter>[mapnik::geometry_type]=point</Filter>
            <PointSymbolizer opacity="0.7" />
        </Rule>
    </Style>

    <Layer name="layer" srs="+init=epsg:4326">
        <StyleName>ready_shapes</StyleName>
        <Datasource>
            <Parameter name="type">geojson</Parameter>
            <Parameter name="file">test.geojson</Parameter>
        </Datasource>
    </Layer>
</Map>
